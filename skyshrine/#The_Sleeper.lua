-- note: A_Guardian_of_the_Shrine spawns Kerafyrm using the NPC type #The_Sleeper from Sleeper's Tomb and renames it.
--       That is why this file is named #The_Sleeper instead of Kerafyrm.
local GRID = {
	-328.00, 447.00, 46.20,
	-264.00, 469.00, 46.20,
	-265.00, 676.00, 46.20,
	-328.00, 719.00, 46.20,
	-327.00, 803.00, 46.20,
	-508.00, 802.00, 46.20,
	-590.00, 802.00, 46.20,
	-621.00, 757.00, 46.20,
	-718.00, 756.00, 46.20,
	-717.00, 802.00, 46.20,
	-767.00, 803.00, 46.20,
	-768.00, 647.00, 46.20,
	-685.00, 648.00, 46.20,
	-693.00, 542.00, 46.20,
	-562.00, 543.00, 101.20,
	-562.00, 400.00, 101.20,
	-562.00, 138.00, 141.10,
	-669.00, 136.00, 176.10,
	-802.00, 144.00, 176.10,
	-806.00, 527.00, 191.10,
	-1039.00, 624.00, 191.10,
	-972.00, 790.00, 191.10,
	-746.00, 788.00, 261.00,
	-691.00, 790.00, 261.10,
	-694.00, 1037.00, 261.10,
	-495.00, 1038.00, 261.10,
	-495.00, 749.00, 261.60,
	-494.00, 636.00, 310.30,
	-495.00, 562.00, 311.10,
	-152.00, 562.00, 311.10,
	-157.00, 649.00, 336.00,
	-156.00, 720.00, 339.10,
	-157.00, 728.00, 261.10,
	-119.00, 744.00, 261.10,
	-79.00, 712.00, 261.80,
	-27.00, 713.00, 290.20,
	23.00, 713.00, 291.10,
	23.00, 894.00, 336.10,
	-87.00, 1011.00, 336.10,
	-223.00, 1010.00, 381.00,
	-336.00, 856.00, 381.00,
	-675.00, 862.00, 381.00,
	-674.00, 1098.00, 381.00,
	-705.00, 1150.00, 381.00,
	-790.00, 1159.00, 381.00,
	-804.00, 1185.00, 381.00,
	-834.00, 1183.00, 381.00,
	-856.00, 1160.00, 381.00,
	-1064.00, 1179.00, 381.00,
	-1105.00, 1212.00, 381.00,
	-1106.00, 1444.00, 381.00,
	-1646.00, 1439.00, 381.00,
	-1644.00, 1620.00, 381.00,
	-1823.00, 1621.00, 381.00,
	-1822.00, 1444.00, 381.00,
	-2005.00, 1445.00, 381.00,
	-2005.00, 1981.00, 381.00,
	-1877.00, 1984.00, 381.00,
	-1079.00, 1590.00, 16.20,
	-1083.00, 1932.00, 16.20,
	660.00, -60.00, 6.20,
	433.00, -61.00, 6.20,
	430.00, 122.00, 6.20,
	283.00, 121.00, 6.20,
	433.00, 120.00, 6.20,
	432.00, 209.00, 6.20,
	612.00, 212.00, 6.20,
	432.00, 208.00, 6.20,
	435.00, -62.00, 6.20,
	163.00, -57.00, 18.20,
	165.00, 478.00, 28.20,
	137.00, 554.00, 28.20,
	167.00, 655.00, 28.20,
	167.00, 987.00, 39.20,
	373.00, 990.00, 49.20,
	375.00, 855.00, 49.20,
	513.00, 856.00, 49.20,
	511.00, 999.00, 49.20,
	863.00, 991.00, 49.20,
	863.00, 855.00, 49.20,
	1031.00, 856.00, 49.20,
	1026.00, 997.00, 49.20,
	1244.00, 994.00, 61.20,
	1250.00, 760.00, 69.20,
	1096.00, 762.00, 69.20,
	1096.00, 683.00, 69.20,
	740.00, 684.00, 47.20,
	741.00, 553.00, 47.20,
	981.00, 558.00, 47.20,
	971.00, 340.00, 47.20,
	960.00, 57.00, 47.20,
	760.00, 57.00, 47.20,
	757.00, 320.00, 47.20,
	981.00, 339.00, 47.20,
	978.00, 445.00, 47.20,
	600.00, 445.00, 47.20,
	461.00, 445.00, 39.20,
	598.00, 445.00, 47.20,
	981.00, 448.00, 47.20,
	972.00, 561.00, 47.20,
	740.00, 559.00, 47.20,
	738.00, 681.00, 47.20,
	905.00, 685.00, 69.20,
	1094.00, 684.00, 69.20,
	1094.00, 609.00, 69.20,
	1251.00, 607.00, 69.20,
	1246.00, 231.00, 69.20,
	1094.00, 233.00, 69.20,
	1099.00, 102.00, 69.20,
	1250.00, 105.00, 69.20,
	1242.00, -59.00, 85.20,
	613.00, -57.00, 106.20,
	604.00, 88.00, 130.10,
	467.00, 76.00, 151.30,
	466.00, -62.00, 172.10,
	162.00, -53.00, 192.10,
	166.00, 413.00, 200.10,
	285.00, 495.00, 200.10,
	386.00, 495.00, 200.10,
	378.00, 636.00, 200.10,
	181.00, 656.00, 200.10,
	178.00, 766.00, 200.10,
	370.00, 771.00, 200.10,
	408.00, 280.00, 200.10,
	259.00, 273.00, 200.10,
	263.00, 69.00, 200.10,
	386.00, 73.00, 200.10,
	385.00, 191.00, 200.10,
	521.00, 191.00, 200.10,
	521.00, 356.00, 200.10,
	569.00, 442.00, 200.10,
	521.00, 516.00, 200.10,
	518.00, 883.00, 200.10,
	159.00, 879.00, 200.10,
	176.00, 992.00, 212.10,
	602.00, 995.00, 220.10,
	683.00, 877.00, 220.10,
	685.00, 657.00, 220.10,
	923.00, 675.00, 220.10,
	1075.00, 679.00, 220.10,
	1073.00, 866.00, 220.10,
	861.00, 864.00, 220.10,
	860.00, 996.00, 220.10,
	1247.00, 991.00, 232.10,
	1244.00, 227.00, 251.90,
	1096.00, 221.00, 274.10,
	1106.00, 78.00, 298.10,
	1243.00, 74.00, 318.10,
	1239.00, -61.00, 338.10,
	793.00, -61.00, 346.10,
	795.00, 120.00, 346.10,
	796.00, 301.00, 326.10,
	888.00, 299.00, 326.10,
	886.00, 466.00, 326.10,
	793.00, 467.00, 326.10,
	794.00, 625.00, 346.10,
	795.00, 709.00, 346.10,
	1198.00, 1231.00, 6.20,
	1200.00, 1360.00, 6.20,
	1059.00, 1360.00, 6.20,
	1061.00, 1619.00, 6.20,
	1203.00, 1620.00, 6.20,
	1200.00, 1840.00, 6.20,
	1047.00, 1843.00, 6.20,
	1043.00, 2000.00, 6.20,
	1215.00, 2000.00, 6.20,
	1050.00, 1992.00, 6.20,
	1050.00, 1843.00, 6.20,
	1348.00, 1836.00, 6.20,
	1353.00, 2000.00, -13.80,
	1503.00, 2000.00, -33.80,
	1512.00, 1840.00, -53.80,
	1858.00, 1839.00, -53.80,
	1513.00, 1839.00, -53.80,
	1507.00, 2007.00, -33.80,
	1350.00, 2003.00, -13.80,
	1354.00, 1736.00, 6.20,
	1607.00, 1736.00, 6.20,
	1609.00, 1317.00, 6.20,
	1606.00, 1239.00, 6.20,
	1442.00, 1236.00, 6.20,
	1510.00, 1106.00, -23.80,
	1607.00, 1001.00, -23.80,
	1929.00, 1005.00, -32.80,
	1930.00, 1307.00, -34.80,
	2078.00, 1313.00, -34.80,
	2087.00, 1409.00, -34.80,
	2267.00, 1409.00, -34.80,
	2267.00, 1908.00, -33.80,
	2268.00, 2018.00, -53.80,
	2536.00, 2016.00, -98.80,
	2539.00, 1741.00, -148.70,
	2319.00, 1741.00, -158.70,
	1975.00, 1737.00, -158.70,
	1969.00, 2336.00, -158.70,
	1460.00, 2348.00, -158.70,
	1459.00, 2980.00, -158.70,
	1975.00, 2981.00, -158.70,
	1976.00, 2645.00, -158.70,
};

function event_spawn(e)
	e.self:SetSpecialAbility(24, 0); -- will not aggro
	e.self:SetSpecialAbility(35, 0); -- no harm from players
	e.self:SetWalkspeed(1.0);
	e.self:SetRunspeed(2.5);
	e.self:SetWanderType(6);
	e.self:SetPauseType(1);
	e.self:AddWaypoint(e.self:GetX(), e.self:GetY(), e.self:GetZ(), -1, 0, false);
	e.self:AddWaypoint(e.self:GetX(), e.self:GetY(), e.self:GetZ(), -1, 1, false);
	local i = 1;
	while (GRID[i]) do
		e.self:AddWaypoint(GRID[i], GRID[i+1], GRID[i+2], -1, 0, false);
		i = i + 3;
	end
end

function event_waypoint_arrive(e)
	
	if ( e.wp == 59 ) then
		e.self:GMMove(-1079, 1590, 16.20, 0);
		
	elseif ( e.wp == 61 ) then
		e.self:GMMove(660, -60, 6.20, 0);
		
	elseif ( e.wp == 158 ) then
		e.self:GMMove(1198, 1231, 6.20, 0);		
	end
end

-- emotes aren't loaded if the NPC type is from another zone.  this is dumb but just scripting this to fix the problem
function event_slay(e)
	e.self:Shout("Begone insect, I have much slaying yet to do!");
end
